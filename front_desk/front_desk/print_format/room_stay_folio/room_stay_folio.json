{
 "align_labels_right": 0,
 "creation": "2019-12-11 16:21:26.545779",
 "css": ".print-format { \n\tfont-size: 11px;\n}\n\n.table {\n    margin: 0px;\n}\n\n.borderless {\n\tborder:none;\n}",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Room Stay",
 "docstatus": 0,
 "doctype": "Print Format",
 "font": "Default",
 "html": "{% set reservation = frappe.get_doc(\"Reservation\", doc.reservation_id) %}\n{% set company = frappe.get_doc(\"Global Defaults\").default_company %}\n{% set customer = frappe.get_doc(\"Customer\", doc.guest_name) %}\n{% set folio = frappe.get_doc(\"Folio\", {\"reservation_id\": doc.reservation_id}) %}\n{% set accumulator = namespace(credit = 0.0) %}\n{% set accumulator2 = namespace(debit = 0.0) %}\n\n<div class=\"row\">\n    <div class=\"col-xs-6 text-left\">\n        <h1>{{company}}</h1>\n    </div>\n    <div class=\"col-xs-6 text-right\">\n        <h4>Folio Room No. {{doc.room_id}}</h4>\n    </div>\n</div>\n\n<div class=\"row\">\n    <div class=\"col-xs-12 text-right\">\n        <b>Staf/Personnel: </b> {{ frappe.db.get_value(\"User\", frappe.user, \"full_name\") }}\n    </div>\n</div>\n<div class=\"row\">\n    <div class=\"col-xs-12\"><br><br></div>\n</div>\n<div class=\"row\">\n    <div class=\"col-xs-4\">\n        {{ customer.customer_name | upper }}\n        <br/>\n        {{ reservation.type }}\n        <br/>\n        {{ customer.primary_address }}\n    </div>\n    <div class=\"col-xs-8\">\n        <table class=\"table table-bordered\">\n            <tr>\n                <th>Reservation</th>\n                <th>Folio</th>\n            </tr>\n            <tr>\n                <td>{{reservation.name}}</td>\n                <td>{{folio.name}}</td>\n            </tr>\n        </table>\n    </div>\n</div>\n\n<div class=\"row\">\n    <div class=\"col-xs-12\"><br/></div>\n</div>\n\n<div class=\"row\">\n    <div class=\"col-xs-12\">\n        <table class=\"table table-bordered\">\n            <tr>\n                <th class=\"col-xs-2\">Date</th>\n                <th class=\"col-xs-4\">Description/Remark</th>\n                <th class=\"col-xs-2\">Debit</th>\n                <th class=\"col-xs-2\">Credit</th>\n            </tr>\n            {%- for row in folio.transaction_detail -%}\n                {% if row.room_stay_id == doc.name %}\n                    <tr>\n                        <td>{{row.creation.strftime('%d-%m-%Y')}}</td>\n                        <td>{{row.remark}}</td>\n                        {% if row.flag == 'Credit' %}\n                            {% set accumulator.credit = accumulator.credit + row.amount_after_tax %}\n                            <td class=\"text-center\">-</td>\n                            <td class=\"text-right\">Rp.{{row.get_formatted('amount_after_tax')}}</td>\n                        {% elif row.flag == 'Debit' %}\n                            {% set accumulator2.debit = accumulator2.debit + row.amount_after_tax %}\n                            <td class=\"text-right\">Rp.{{row.get_formatted('amount_after_tax')}}</td>\n                            <td class=\"text-center\">-</td>\n                        {% endif %}\n                    </tr>\n                {% endif %}\n            {%- endfor -%}\n        </table>\n        <table class=\"table table-bordered\" style=\"margin-top:-1px;\">\n            <tr style=\"font-weight: bold\">\n                <td class=\"col-xs-6 text-right\">Total</td>\n                <td class=\"col-xs-2 text-right\">\n                    Rp. {{ frappe.format_value(accumulator2.debit, {\"fieldtype\":\"Currency\"}) }}\n                </td>\n                <td class=\"col-xs-2 text-right\">\n                    Rp. {{ frappe.format_value(accumulator.credit, {\"fieldtype\":\"Currency\"}) }}\n                </td>\n            </tr>\n        </table>\n    </div>\n</div>\n\n<div style=\"margin-top:155px\"></div>\n<div class=\"row\">\n    <div class=\"col-xs-9\"></div>\n    <div class=\"col-xs-3\">\n        <table class=\"table text-center\">\n            <tr>\n                <td class=\"col-xs-2\" style=\"border-top:none;\"><b>{{ frappe.db.get_value(\"User\", frappe.user,\n                    \"full_name\") }}</b></td>\n            </tr>\n            <tr>\n                <td style=\"border-top:1px solid #d1d8dd;\"><b>Staf/Personnel</b></td>\n            </tr>\n        </table>\n    </div>\n</div>\n",
 "idx": 0,
 "line_breaks": 0,
 "modified": "2019-12-12 12:52:56.035194",
 "modified_by": "Administrator",
 "module": "Front Desk",
 "name": "Room Stay Folio",
 "owner": "Administrator",
 "print_format_builder": 0,
 "print_format_type": "Server",
 "show_section_headings": 0,
 "standard": "Yes"
}